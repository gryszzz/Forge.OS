<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ForgeOS</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module">
      const isLocal = ["localhost", "127.0.0.1"].includes(window.location.hostname);
      const repoBase = "/Forge.OS";

      async function boot() {
        if(isLocal) {
          await import("/src/main.tsx");
          return;
        }

        // Fallback for branch-based GitHub Pages serving root index.html.
        await import(`${repoBase}/dist/assets/index-BqUcFNeT.js`);
      }

      boot().catch((err) => {
        console.error("ForgeOS bootstrap failed", err);
        document.body.innerHTML = "<div style='padding:24px;font-family:monospace;color:#eee;background:#0a0a0a;min-height:100vh'>ForgeOS failed to load. Check GitHub Pages source and bundle path.</div>";
      });
    </script>
  </body>
</html>
